<div class="workspace-selector">
  <button 
    mat-button 
    [matMenuTriggerFor]="projectMenu" 
    class="workspace-button"
    matTooltip="Switch project">
    <lucide-angular [img]="BoxesIcon"></lucide-angular>
    <span class="workspace-name">{{ currentProject?.name || 'Select Project' }}</span>
    <lucide-angular [img]="ChevronDownIcon"></lucide-angular>
  </button>

  <mat-menu #projectMenu="matMenu" class="workspace-menu">
    <div class="menu-header">
      <h3>Projects</h3>
    </div>
    
    <div class="workspace-list">
      <button 
        mat-menu-item 
        *ngFor="let project of projects" 
        (click)="onProjectChange(project)"
        [class.active]="project.id === currentProject?.id">
        <div class="workspace-item">
          <div class="workspace-info">
            <div class="workspace-name">{{ getProjectDisplayName(project) }}</div>
            <div class="workspace-description">{{ getProjectDescription(project) }}</div>
          </div>
          <lucide-angular *ngIf="project.id === currentProject?.id" [img]="CheckIcon" class="check-icon"></lucide-angular>
        </div>
      </button>
    </div>

    <mat-divider></mat-divider>
    
    <div class="menu-actions">
      <button mat-menu-item (click)="createNewProject()">
        <lucide-angular [img]="PlusIcon"></lucide-angular>
        <span>Create Project</span>
      </button>
      <button mat-menu-item (click)="manageProjects()">
        <lucide-angular [img]="SettingsIcon"></lucide-angular>
        <span>Manage Projects</span>
      </button>
    </div>
  </mat-menu>
</div> 